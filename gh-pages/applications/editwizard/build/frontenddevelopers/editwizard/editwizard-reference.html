<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>MMBase Editwizard Reference Manual</title><link href="../../style/documentation.css" rel="stylesheet" type="text/css" /><meta content="DocBook XSL Stylesheets V1.72.0" name="generator" /><link xmlns="" type="image/x-icon" href="../../style/favicon.ico" rel="icon" /><link xmlns="" type="image/x-icon" href="../../style/favicon.ico" rel="shortcut icon" /><meta xmlns="" content="text/html; charset=utf-8" http-equiv="content-type" /></head><body><div xmlns="" class="navigation"><img alt="mmbase logo" src="../../style/logo.png" /><h2>MMBase Editwizard Reference Manual</h2><p><a href="editwizard-reference.html#introduction">Introduction</a></p><p><a href="editwizard-reference.html#calling">Calling the Wizard Pages</a></p><p><a href="editwizard-reference.html#basicconcepts">Basic Concepts</a></p><p><a href="editwizard-reference.html#syntaxreference">Syntax Reference</a></p><p><a href="editwizard-reference.html#syntax">Syntax reference</a></p><hr /><p><a href="http://www.mmbase.org">MMBase</a></p><p><a href="http://www.mmbase.org/mmdocs/applications/editwizard/build/index.html">home</a></p></div><div class="article" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="N10001" />MMBase Editwizard Reference Manual</h1></div><div><div class="authorgroup"><strong class="authorgroup">Authors: </strong><span class="author"><span class="firstname">Kars</span> <span class="surname">Veling</span>, </span><span class="author"><span class="firstname">Henk</span> <span class="surname">Hangyi</span>, </span><span class="author"><span class="firstname">Pierre</span> <span class="surname">van Rooden</span></span><br /><strong class="authorgroup">Date: </strong>2002-09-02</div></div><div><p class="releaseinfo">Version 1.0 is released with MMBase 1.6.</p></div><div><div class="legalnotice"><a id="N10029" /><p>This software is OSI Certified Open Source Software. OSI Certified is a certification mark of the Open Source Initiative.</p><p>The license (Mozilla version 1.0) can be read at the MMBase site. See <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.mmbase.org/license" target="_top">http://www.mmbase.org/license</a></p></div></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="editwizard-reference.html#introduction">1. Introduction</a></span></dt><dt><span class="section"><a href="editwizard-reference.html#calling">2. Calling the Wizard Pages</a></span></dt><dd><dl><dt><span class="section"><a href="editwizard-reference.html#calling_general">2.1. General - wizard definition schemas</a></span></dt><dt><span class="section"><a href="editwizard-reference.html#list.jsp">2.2. list.jsp</a></span></dt><dt><span class="section"><a href="editwizard-reference.html#wizard.jsp">2.3. wizard.jsp</a></span></dt><dt><span class="section"><a href="editwizard-reference.html#debug.jsp">2.4. debug.jsp</a></span></dt></dl></dd><dt><span class="section"><a href="editwizard-reference.html#basicconcepts">3. Basic Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="editwizard-reference.html#objectstructures">3.1. Object structures (Dove)</a></span></dt><dt><span class="section"><a href="editwizard-reference.html#xpathexpressions">3.2. XPath Expressions and Wizard variables</a></span></dt><dt><span class="section"><a href="editwizard-reference.html#including">3.3. Including xml fragments</a></span></dt><dt><span class="section"><a href="editwizard-reference.html#extending">3.4. Extending using xml fragments</a></span></dt></dl></dd><dt><span class="section"><a href="editwizard-reference.html#syntaxreference">4. Syntax Reference</a></span></dt><dd><dl><dt><span class="section"><a href="editwizard-reference.html#action-unlink">4.1. action type="unlink"</a></span></dt></dl></dd><dt><span class="section"><a href="editwizard-reference.html#syntax">5. Syntax reference</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="introduction" />1. Introduction</h2></div></div></div><p>This reference describes the syntax of the wizards and how to access them using a browser.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="calling" />2. Calling the Wizard Pages</h2></div></div></div><p>This reference describes the wizard pages and how to call them from a html or jsp page.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="calling_general" />2.1. General - wizard definition schemas</h3></div></div></div><p>The editwizards need a xml file with a definition of the wizard to operate.			By default, those are found in the subdirectory /editwizard/data/, but it is possible to place your definitions, as well as the wizard stylesheets (which define layout) elsewhere.</p><p>When the wizards search for a requested file (a wizard xsl stylesheet or a wizard xml schema), they look for the referenced file in the following order:
      </p><div class="variablelist"><dl><dt><span class="term">The referrer page directory</span></dt><dd><p>You call the editwizard scripts (list.jsp and wizard.jsp) from a page located in another directory than the editwizard home directory. If you do, the wizards keep a reference to the calling page, the 'referrer'. When a xml or xsl file is requested, the wizard first checks whether the file can be found in the directory of the referrer page.</p><p>Example: if the file requested is data/my_wizard.xml, and the referencing page is /myeditors/index.jsp, the system first checks for the file /myeditors/data/my_wizard.xml.
            </p></dd><dt><span class="term">The editwizard home directory</span></dt><dd><p>The editwizard home is the directory that contains the editwizard basic stylesheets, data library, and jsp pages. It is one directory lower than the location of the list.jsp and  wizard.jsp files. In the standard distribution, this location is /mmapps/editwizard/ (the list.jsp and wizard.jsp are located in /mmapps/editwizard/jsp/), but you can place the wizards wherever you like.
            </p><p>Example: if the file requested is data/my_wizard.xml, and the editwizard home is in mmapps/editwizard/, the system checks for the file /mmapps/editwizard/data/my_wizard.xml.
            </p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="list.jsp" />2.2. list.jsp</h3></div></div></div><p>To run a wizard, you'll need to call either list.jsp or wizard.jsp. These scripts are located in the jsp subdirectory of the editwizard home directory. In the standard distribution, this is mmapps/editwizard/jsp/.</p><p>List.jsp starts with running a search query on MMBase to create a list of items to search from. It shows a list of all found nodes and allows you to select one of these items to edit, to remove an item, or to add a new item. The actual options given depend on the security settings (if you are allowed to do this by MMBase), and the possibilities offered by the wizard. Note that the list.jsp does NOT run an editwizard itself, it is just a 'starter'. It eventually calls wizard.jsp (see below) to actually edit or create an item.</p><p>You need to specify a number of parameters to tell the list.jsp what wizard should be used, and what nodes and fields should be shown in the list.</p><p>In addition, by specifying the searchfields parameter, you can let the wizards generate a searchbox, allowing you to narrow the list of nodes to edit.</p><div class="variablelist"><p class="title"><b>The following parameters MUST be specified (list.jsp does not work if you do not specify them):</b></p><dl><dt><span class="term">wizard</span></dt><dd><p>The wizard to use. This is a relative reference to the xml schema file. Do not specify the ".xml" prefix.</p><pre class="programlisting">wizard=data/simple.xml</pre></dd><dt><span class="term">nodepath</span></dt><dd><p>The nodepath defines the object types to list. This can be one object type, or a comma-separated list of types, which are treated as a relation chain, like in path attribute of the taglib's &lt;mm:list&gt; tag.
            The last objecttype listed is the object that is used as the objecttype to edit in the wizard.</p><pre class="programlisting">nodepath=people or nodepath=people,news</pre></dd></dl></div><div class="variablelist"><p class="title"><b>The following parameters MAY be specified:</b></p><dl><dt><span class="term">fields</span></dt><dd><p>The fields to show in the list. If you query only one nodetype (see nodepath), you can use simple field names. Otherwise, you need to preface the fieldnames with the name of the objecttype they belong to.
            If the first field listed is a number field, the objecttype of that field is used as the objecttype to edit in the wizard (instead of the last object type in the nodepath list). This parameter is similar to the fields attribute of the taglib's &lt;mm:list&gt; tag.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>In 1.6.3 and lower, field is mandatory. In 1.6.4 and up, if fields is not specified, the wizard uses the default 'list' fields specified by MMBase.</p></div><pre class="programlisting">fields=news.title,people.firstname,people.lastname</pre></dd><dt><span class="term">templates</span></dt><dd><p>
              The directory where xsl templates and editwizard task xml's can be found. Use this
              to specify an alternate directory for xsl templates and wizard xml's. The other
              directories (current directory, default directory) remain working too, but this
              'templates' is added between them in the resolve path.
            </p><pre class="programlisting">templates=data/my_xsl</pre></dd><dt><span class="term">main</span></dt><dd><p>The name of the main node type in a node path. The main node type designates the element in a list that you want to edit. By default, the wizard takes the last name in a node path as the main node type.</p><p>For instance, in the node path 'mags,news,publishtimes', the main node type recognized automatically will be 'publishtimes' - but it is more likely that we desire to edit the news element in this list. In this case, you can point out to the wizard to use the 'news' element of the list instead.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Available from MMBase 1.6.4 and up. Prior to 1.6.4, you can designate the main node type by adding the number field of that node type to the fields parameter (i.e: 'news.number,news.title,publishtimes.date').
            This method still works in 1.6.4, but is discouraged as it is confusing.
            </p></div><pre class="programlisting">main=news</pre></dd><dt><span class="term">sessionkey</span></dt><dd><p>A key that identifies the 'session' of this wizard. Normally, you cannot run two separate editwizards concurrently from the same browser. If you want to allow this for your users for some reason, you can provide a 'sessionkey' to identify separate sessions: a wizard with one sessionkey runs independent from those who use a different one.
            The default session key is 'editwizard'. Note that allowing more wizards to be opened from one browser consumes more resources and is therefor not recommended.</p><pre class="programlisting">sessionkey=my_key</pre></dd><dt><span class="term">context</span></dt><dd><p>The security context to assign to new objects and relations created by the editwizard. By default, objects are created using a default context defined by the security system (often depending on the logged on user). By explicitly specifying this default context. Not that specifying a context different from the default may result in objects that, once created, cannot be changed by the user due to security restrictions. A user needs to be able to change the context on objects he creates, or the parameter cause security errors.</p><pre class="programlisting">context=default</pre></dd><dt><span class="term">maxsize</span></dt><dd><p>The maximum size of a file to upload. The default maximum size for files is 4MB.</p><pre class="programlisting">maxsize=8000000</pre></dd><dt><span class="term">orderby</span></dt><dd><p>A list of fieldnames used to order the returning list. This parameter is similar to the orderby attribute of the taglib's &lt;mm:list&gt; tag.</p><pre class="programlisting">orderby=people.lastname,news.title</pre></dd><dt><span class="term">directions</span></dt><dd><p>A list of one or more UP/DOWN keywords. Each keyword determines whether the order of a matching field specified in the orderby parameter is ascending (UP) or descending (DOWN). This parameter is similar to the directions attribute of the taglib's &lt;mm:list&gt; tag.</p><pre class="programlisting">directions=UP</pre></dd><dt><span class="term">searchdirs</span></dt><dd><p>The direction in which relations between nodemanagers should be followed. This parameter is similar to the searchdirs attribute of the taglib's &lt;mm:listcontainer&gt; tag. It can be a list, in which case the first is for use between the first and second nodemanager, the second is for use between second and third nodemanager. If there are more steps in the nodemanager path then searchdirs, then the searchdir will default to the previous searchdir in the 'searchdirs' list.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Available from MMBase 1.7.0 and up. In MMBase 1.6.4 and up, only the 'searchdir' parameter was available and only one searchdir could be specified, valid for all steps of the nodepath.</p></div><pre class="programlisting">searchdirs=source,destination</pre></dd><dt><span class="term">constraints</span></dt><dd><p>A SQL-like constraint, used to filter the list. If you use fieldnames in a constraint, surround it with brackets ([]). This allows MMBase to recognize the fields and optimize the query. This parameter is similar to the constraints attribute of the taglib's &lt;mm:list&gt; tag.</p><pre class="programlisting">constraints=[news.title] like '%Brasil%'</pre></dd><dt><span class="term">distinct</span></dt><dd><p>If true, double entries in a list are returned only once.</p><pre class="programlisting">distinct=true</pre></dd><dt><span class="term">language</span></dt><dd><p>The preferred language for display. The language is specified by the ISO standardized 2-letter lowercase languagecode. The effects are dependent on whether alterenate langauge elemenst are availabel for the specified language. If not, the default language settings are used instead.</p><pre class="programlisting">language=nl</pre></dd><dt><span class="term">pagelength</span></dt><dd><p>The maximum number of entries shown on one list page. Default value is 50.</p><pre class="programlisting">pagelength=50</pre></dd><dt><span class="term">maxpagecount</span></dt><dd><p>The maximum number of pages available to browse through. Default value is 10.</p><pre class="programlisting">maxpagecount=10</pre></dd><dt><span class="term">start</span></dt><dd><p>The number of the item in the list where to start listing.
              This value is used to skip to a certain page when browsing a large list.
              Default is 0.</p><pre class="programlisting">start=0</pre></dd><dt><span class="term">age</span></dt><dd><p>The maximum age (in days) of the objects to list. Default is no age restriction.</p><pre class="programlisting">age=31</pre></dd><dt><span class="term">searchfields</span></dt><dd><p>The field(s) on which to make a search, using the value specified in the search parameter and the type of comparison specified in the search type.</p><p>You can specify more than one field (separated by commas). if you do, a search matches if one or more of the specified fields matches.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If the search parameter (see below) is set to AUTO, specifying this parameter will create a searchbox at the top of the list, allowing you to enter the value to search for. If a search box is forced by the search parameter but the searchfields are not specified, the default is to search on the fields being displayed (specified in the fields parameter)</p></div><pre class="programlisting">searchfields=news.title,news.subtitle</pre></dd><dt><span class="term">realsearchfield</span></dt><dd><p>The actual field on which to search. Normally, searches are done on the fields mentioned in the searchfields parameter (used to create the search box in  a list page). Sometimes, you want to search on a field other than those listed in searchfield (such as 'number' or 'owner'). In that case, use this parameter to specify the field.
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This parameter is set by the system when a user submits a search- you will hardly ever use it yourself. If you want to add additional constraints, use the 'constraints' parameter. If you specify a constraints parameter, that constraint is combined in further searches with the search parameters given by a user. If you use realsearchfield to specify a constraint, that information is only valid for the first search - it will be replaced when a user submits his search.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Available from MMBase 1.6.4 and up</p></div><pre class="programlisting">realsearchfield=news.title,news.subtitle</pre></dd><dt><span class="term">searchvalue</span></dt><dd><p>The term or value to search for. This is only valid if you also specify the searchfields parameter.</p><pre class="programlisting">searchvalue=Brasil</pre></dd><dt><span class="term">searchtype</span></dt><dd><p>Determines what type of search is used to filter on the searchfields, using the specified search value.  This is only valid if you also specify the searchfields parameter.</p><p>Allowed values are 'string', 'like', 'equalto', 'greaterthan', 'lessthan', 'notgreaterthan', and 'notlessthan'. use 'string' to compare the search value to the field using an exact match. Use 'like' to make a pattern search using the specified searchvalue. Use the other values to compare the field to numeric values or dates. I.e. using 'greaterthan' selects all fields whose (numeric) value is greater than the specified (numeric) value.
            </p><pre class="programlisting">searchtype=like</pre></dd><dt><span class="term">search</span></dt><dd><p>The search parameter specified when the list should show a search box, and whether searching is mandatory. There are four possible values:</p><p><span class="emphasis"><em>no</em></span> turns searching off. If other parameters such as searchfields and searchvalue are given, the search is performed using those parameters but a searchbox is not displayed.</p><p><span class="emphasis"><em>yes</em></span> turns searching on, displaying a searchbox on top of the list, using defaults for parameters such as searchfields, if these are not specified.</p><p><span class="emphasis"><em>force</em></span> is like YES, but searching (and showing a resultlist) is not performed until a searchvalue is specified. If no searchvalue is given, only the searchbox is displayed - no results are shown.</p><p><span class="emphasis"><em>auto</em></span> makes searching dependent on the presence of the searchfields parameter. If the searchfields parameter is given, a searchbox is shown. Otherwise, it is not. AUTO is the default value</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Available from MMBase 1.6.4 and up</p></div><pre class="programlisting">search=yes</pre></dd><dt><span class="term">origin</span></dt><dd><p>A node alias or number, which will be passed to the underlying editwizard. the value can then be referenced in the editwizard schema using the {$origin} variable.
            This can be used to create relations to nodes whose 'origin' is determined outside the wizard (i.e. in a complex search or determined through user preferences).
            </p><pre class="programlisting">origin=my_start_node</pre></dd><dt><span class="term">title</span></dt><dd><p>An optional title to use by the list. In general, you should specify this in the editwizard schema.</p><pre class="programlisting">title=News of The Week</pre></dd><dt><span class="term">proceed</span></dt><dd><p>System parameter, see the description at the wizard.jsp reference page for more info</p></dd><dt><span class="term">replace</span></dt><dd><p>System parameter, see the description at the wizard.jsp reference page for more info</p></dd><dt><span class="term">remove</span></dt><dd><p>System parameter, see the description at the wizard.jsp reference page for more info</p></dd><dt><span class="term">relationOriginNode</span></dt><dd><p>
              If this option is given, then you can besides searching in the given list, also search
              in the complete cloud. This can be useful if the presented list has an orgin. In this
              way you can add new entries to this list, without needing a wizard.
            </p><pre class="programlisting">relationOriginNode=&lt;origin&gt;[&amp;relationRole=&lt;role&gt;][&amp;relationCreateDir=&lt;dir&gt;]</pre><p>
              Where &lt;origin&gt; it the nodenumber to which a relation must be created,
              &lt;role&gt; is the role of that relation.
            </p><p>(See also: the &lt;action type="unlink" /&gt;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Available from MMBase 1.8.5 and up</p></div></dd></dl></div><div class="example"><a id="N1019A" /><p class="title"><b>Example 1. How to use list.jsp to list objects</b></p><div class="example-contents"><pre class="programlisting">list.jsp?wizard=practice/people&amp;nodepath=people&amp;fields=firstname,lastname</pre><pre class="programlisting">list.jsp?wizard=practice/simple&amp;startnodes=1&amp;nodepath=people,news&amp;fields=news.title,people.firstname,people.lastname</pre></div></div><br class="example-break" /></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="wizard.jsp" />2.3. wizard.jsp</h3></div></div></div><p>You can use wizard.jsp to directly start a wizard. Like list.jsp, you will need to supply the correct parameters in order to let the wizard run correctly. If you call the wizard.jsp page, a wizard will be loaded and started. The proper html will be rendered and shown in the browser. The syntax of wizard.jsp to create a new object looks like this:</p><pre class="programlisting">wizard.jsp?wizard=practice/simple&amp;objectnumber=new</pre><p>To create a wizard and use an existing mmbase object as source:</p><pre class="programlisting">wizard.jsp?wizard=practice/simple&amp;objectnumber=[objectnumber]</pre><div class="variablelist"><p class="title"><b>The following parameters MUST be specified (wizard.jsp does not work if you do not specify them):</b></p><dl><dt><span class="term">wizard</span></dt><dd><p>The wizard to use. This is a relative reference to the xml schema file. Do not specify the ".xml" prefix.</p><pre class="programlisting">wizard=data/simple.xml</pre></dd><dt><span class="term">objectnumber</span></dt><dd><p>The number or alias of the object to edit. The object must exist. You can also supply the keyword 'new', which creates a new object instead of editing an existing one.</p></dd></dl></div><div class="variablelist"><p class="title"><b>The following parameters MAY be specified:</b></p><dl><dt><span class="term">templates</span></dt><dd><p>A directory where xsl templates and wizard xml could be found. See also the
            description of the same parameter for list.jsp</p><pre class="programlisting">templates=data/my_xsl</pre></dd><dt><span class="term">sessionkey</span></dt><dd><p>A key that identifies the 'session' of this wizard. Normally, you cannot run two separate editwizards concurrently from the same browser. If you want to allow this for your users for some reason, you can provide a 'sessionkey' to identify separate sessions: a wizard with one sessionkey runs independent from those who use a different one.
            The default session key is 'editwizard'. Note that allowing more wizards to be opened from one browser consumes more resources and is therefor not recommended.</p><pre class="programlisting">sessionkey=my_key</pre></dd><dt><span class="term">context</span></dt><dd><p>The security context to assign to new objects and relations created by the editwizard. By default, objects are created using a default context defined by the security system (often depending on the logged on user). By explicitly specifying this default context. Not that specifying a context different from the default may result in objects that, once created, cannot be changed by the user due to security restrictions. A user needs to be able to change the context on objects he creates, or the parameter cause security errors.</p><pre class="programlisting">context=default</pre></dd><dt><span class="term">language</span></dt><dd><p>The preferred language for display. The language is specified by the ISO standardized 2-letter lowercase languagecode. The effects are dependent on whether alterenate langauge elemenst are availabel for the specified language. If not, the default language settings are used instead.</p><pre class="programlisting">language=nl</pre></dd><dt><span class="term">debug</span></dt><dd><p>If debug=true, the wizard will place additional information in the wizard page that allows for debugging of the application. This includes a link to a debug page that allows you to view the loaded object data and the wizard schema. This link specifies parameters such as sessionkey and popupid as required.</p><pre class="programlisting">debug=true</pre></dd><dt><span class="term">maxsize</span></dt><dd><p>The maximum size of a file to upload. The default maximum size for files is 4MB.</p><pre class="programlisting">maxsize=8000000</pre></dd><dt><span class="term">origin</span></dt><dd><p>A node alias or number. This value can be referenced in the editwizard schema using the {$origin} variable. This can be used to create relations to nodes whose 'origin' is determined outside the wizard (i.e. in a complex search or determined through user preferences).
            </p><pre class="programlisting">origin=my_start_node</pre></dd><dt><span class="term">popupid</span></dt><dd><p>This parameter is passed by the system, you never pass it yourself. It is used to identify a 'popup' wizard. A popup wizard is a sub-wizard for the main wizard that, unlike an 'inline' sub-wizard, opens in a separate browser window. Because of this, it needs to separately maintain its status (identified by the popupid). Once the task of a popup wizard ends, it's window is closed, and the parent wizard is refreshed.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>You never pass this parameter by hand. They are provided by the &lt;command name="startwizard"&gt; and &lt;field ftype="startwizard"&gt; tags in a wizard schema. However, you might need to pass the parameter in links if you override xsl stylesheets, and if you want to use the debug.jsp page to view a popup wizard's debug data, you need to know the value of this parameter.
            </p></div><pre class="programlisting">popupid=my_id</pre></dd><dt><span class="term">proceed</span></dt><dd><p>This is a parameter passed by the system. It is used to indicate that the current wizard is still being processed, and therefor its data (stored in the user's session) should be kept an re-used by this call. Omitting this parameter (or passing it with the value false) causes all processed data to be removed, and replaced by a new wizard.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>You never pass this parameter by hand, but you might need to pass it in links in overriding xsl stylesheets.</p></div><pre class="programlisting">popupid=my_id</pre></dd><dt><span class="term">replace</span></dt><dd><p>System parameter</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>You never pass this parameter by hand. It is used to by the wizard to pass state information.</p></div></dd><dt><span class="term">remove</span></dt><dd><p>System parameter</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>You never pass this parameter by hand. It is used to by the wizard to pass state information.</p></div></dd></dl></div><div class="example"><a id="N1022F" /><p class="title"><b>Example 2. How to use wizard.jsp to start an editwizard</b></p><div class="example-contents"><pre class="programlisting">wizard.jsp?wizard=practice/simple&amp;objectnumber=184</pre><pre class="programlisting">wizard.jsp?wizard=practice/simple&amp;objectnumber=new</pre></div></div><br class="example-break" /></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="debug.jsp" />2.4. debug.jsp</h3></div></div></div><p>When you are debugging your wizard code, it can be useful to know what data is read and parsed by the wizard. The debug.jsp page gives access to three xml trees that are used by the current running wizard.</p><p>The data tree shows the xml that contains the data used by the wizard, including any changes made by the user. It can be useful to see if data is loaded (or changed) as expected. It can also be useful to determine xpaths when you plan to use these in your wizard: if you use an xpath in your wizard xml file, it access the data xml.</p><p>The wizard lists the fully expanded wizard schema file (including any inclusions and extensions). Note that this xml also contains some additional navigational information related to the current form, and does not fully follow the wizard dtd.</p><p>The wizard-schema combines the data and wizard xmlks into one xml tree. This tree is what is passed to the xsl-transformers, and is used to create the form that is sent to the end-user. Use this form to see if data loaded is actually used, and if you want to override the default xsl files.</p><div class="variablelist"><p class="title"><b>The following parameters MAY be specified:</b></p><dl><dt><span class="term">sessionkey</span></dt><dd><p>A key that identifies the 'session' of this wizard. See the wizard.jsp for more information.</p><pre class="programlisting">sessionkey=my_key</pre></dd><dt><span class="term">popupid</span></dt><dd><p>Specify this parameter to view a popup wizard's debug data (instead of the data displayed by the main wizard). See the popupid of the wizard.jsp for more info.
            </p><pre class="programlisting">popupid=my_id</pre></dd></dl></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="basicconcepts" />3. Basic Concepts</h2></div></div></div><p>TODO</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="objectstructures" />3.1. Object structures (Dove)</h3></div></div></div><p>TODO</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="xpathexpressions" />3.2. XPath Expressions and Wizard variables</h3></div></div></div><p>TODO</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="including" />3.3. Including xml fragments</h3></div></div></div><p>TODO</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="extending" />3.4. Extending using xml fragments</h3></div></div></div><p>TODO</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="syntaxreference" />4. Syntax Reference</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="action-unlink" />4.1. action type="unlink"</h3></div></div></div><p><b>Syntax. </b><pre class="programlisting">&lt;action type="unlink" /&gt;</pre></p><p><b>Usage. </b>This tag defines that a list-page also has 'unlink' icons (the inverse of 'newfromlist')</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="syntax" />5. Syntax reference</h2></div></div></div><div class="variablelist"><p class="title"><b>object (inside action type="create")</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;object type="[buildername]" /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Inside a create-action, you can place an object-node to define what should be created within mmbase if the create-action is performed. With this node, you can define what object should be created, what values should be placed in what fields, and you can define possible new relations that should be created.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>type="[buildername]"</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>See needed attributes.</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>&lt;relation /&gt; If a relation node is placed inside an objectnode, a relation is created relating the object defined by the &lt;object /&gt; node and some other object (eg.: another to-be created object or an existing one.)</p><p>&lt;field /&gt; In the field nodes inside the object nodes, the user can define the defaultvalues of the designated fields. Eg.: &lt;field name="firstname"&gt;Enter your firstname&lt;/field&gt;</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>&lt;action type="create" /&gt;</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;object type="news"&gt;
  &lt;relation destination="13234" role="related" /&gt;
  &lt;relation role="posrel"&gt;
    &lt;field name="pos"&gt;42&lt;/field&gt;
    &lt;object type="images"&gt;
      &lt;field name="title"&gt;new image&lt;/field&gt;
    &lt;/object&gt;
  &lt;/relation&gt;
&lt;/object&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>relation (inside action type="create")</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;relation /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Usually, the relation is placed inside an object-node (inside a create-action), or it will be placed directly inside a create-action. With this node, the user can make relations between two newly created objects, or, create a relation between one newly created object and an already existing object.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>destinationtype="[buildername]" This attribute is not used anymore. Forget it I'd say.</p><p>destination="[objectnumber or alias]" Use this attribute to point the relation to an already existing object in the mmbase cloud.</p><p>role="[relationname]" Use this attribute to define what kind of relation should be created. If omitted, the default InsRel relation is used. Best practice is to always define the role, eg.: "related" or "posrel" etc.</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>&lt;object /&gt; (see also: object)</p><p>&lt;field /&gt; Default values of fields of a relation itself can be set also. Eg.: &lt;field name="pos"&gt;-1&lt;/field&gt;</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>&lt;action type="create" /&gt;</p><p>&lt;object /&gt;</p></dd><dt><span class="term">Example</span></dt><dd><p>(See also: the &lt;action type="create" /&gt; example and the &lt;object /&gt; example.</p></dd></dl></div><div class="variablelist"><p class="title"><b>field (general)</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;field /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Field nodes define what form-elements will be placed in the wizard. This fieldnodes in the xml are an important part of the wizard's definition. For detailed information on what fieldtypes need what kind of settings, see the other fielddefinitions in the reference. Note: the field nodes that can be placed inside a relation or object node have different syntax! (See also: &lt;object type="create" /&gt;)</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>name="[fieldname]" fdatapath, ftype, dttype, dtrequired, dtminlength, dtmaxlength are automatically retrieved from mmbase. Overriding is always possible, however.</p><p>or (advanced users:) fdatapath="[xpath]" and ftype="[fieldtype]"</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>ftype="[fieldtype]" (line|text|enum|date|int)</p><p>dttype="[datatype]" (string|int|date|datetime|time|html)</p><p>dtminlength="[minlength]"</p><p>dtmaxlength="[maxlength]"</p><p>dtrequired="[true|false]"</p><p>rows="[rowcount]"</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>&lt;prompt /&gt; For every field, a prompt-text can be given. If defined, the prompt text will be visible in front of the field in the wizard.</p><p>&lt;description /&gt; For every field, a description can be given. If defined, the description will be shown "onmouseover". If the user move the mouse over the field, the description will be shown in a hint.</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>&lt;form-schema /&gt;</p><p>&lt;item /&gt;</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;form-schema id="step1"&gt;
  &lt;title&gt;Example form&lt;/title&gt;
  &lt;field name="title" dtminlength="1" ftype="line"&gt;
    &lt;prompt&gt;News Title&lt;/prompt&gt;
    &lt;description&gt;You can enter the news-title here&lt;/description&gt;
  &lt;/field&gt;
&lt;/form-schema&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>field ftype="line"</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;field ftype="line" /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>A line-field will show a single-line inputfield in the wizard. Use them for simple text entry.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>dttype="string"</p><p>dttype="int"</p><p>dtminlength="[minlength]"</p><p>dtmaxlength="[maxlength]"</p><p>dtrequired="[true|false]"</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;field name="title" dtminlength="1"&gt;
  &lt;prompt&gt;Title&lt;/prompt&gt;
&lt;/field&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>field ftype="int"</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;field ftype="int" /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this field for number editing</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>dtmin="[minvalue]"</p><p>dtmax="[maxvalue]"</p><p>dtrequired="[true|false]"</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;field name="score" dtmin="100" dtmax="5000" dtrequired="true"&gt; &lt;
  &lt;prompt&gt;Enter position&lt;/prompt&gt;
  &lt;description&gt;Enter value between 100 and 5000 please.&lt;/description&gt;
&lt;/field&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>field ftype="date"</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;field ftype="date" /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this field to edit date, date-time, or time fields.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>dtmin="[mindate]"</p><p>dtmax="[mindate]"</p><p>dttype="[date|datetime|time]"</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;field name="start" dttype="date"&gt;
  &lt;prompt&gt;Startdate&lt;/prompt&gt;
&lt;/field&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>field ftype="upload"</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;field ftype="upload" /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this field to process uploads. Note: Make sure that you use this field in the right context: Usually, this field will store it's binary-value in a mmbase field named 'handle'. See the upload example for more info.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;wizard-schema&gt;
  &lt;title&gt;Image Upload&lt;/title&gt;
  &lt;action type="create"&gt;
    &lt;object type="images" /&gt;
  &lt;/action&gt;
  &lt;action type="load"&gt;
    &lt;field name="title" /&gt;
    &lt;field name="description" /&gt;
  &lt;/action&gt;
  &lt;form-schema id="step1"&gt;
    &lt;title&gt;Image upload&lt;/title&gt;
    &lt;field name="title"&gt;
      &lt;prompt&gt;Title&lt;/prompt&gt;
    &lt;/field&gt;
    &lt;field name="description" ftype="text" rows="8"&gt;
      &lt;prompt&gt;Description&lt;/prompt&gt;
    &lt;/field&gt;
    &lt;field name="handle" ftype="image" dttype="binary"&gt;
      &lt;prompt&gt;upload&lt;/prompt&gt;
    &lt;/field&gt;
  &lt;/form-schema&gt;
&lt;/wizard-schema&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>field ftype="startwizard"</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;field ftype="startwizard"&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this field to start one wizard, from inside another wizard.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>objectnumber="{object/@number}"</p><p>wizardname="[ name of the wizard ]"</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>inline="[true|false]" an inline startwizard will replace the current wizard to create the new object and come back when ready, a not-inline startwizard will pop-up a window to create the new object .</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None.</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>None.</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>&lt;item /&gt;</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">&lt;command name="startwizard" inline="false" wizardname="tasks/myurls" objectnumber="new"/&gt; &lt;command name="startwizard" inline="true" wizardname="tasks/myurls" objectnumber="new"/&gt;</pre></dd></dl></div><div class="variablelist"><p class="title"><b>field ftype="data"</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;field ftype="data" /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this field to show values, but don't make it editable. In other words: use this to make a read-only field.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>None</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;field name="firstname" ftype="data"&gt;
 &lt;prompt&gt;Your firstname is:&lt;/prompt&gt;
&lt;/field&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>field ftype="enum"</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;field ftype="enum" /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this field to make a "dropdown" inputfield. (In HTML-terms: a selectbox).</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>&lt;optionlist /&gt; Use this node to define the possible options for the field. (see also: optionlist)</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>see field (general)</p></dd><dt><span class="term">Example</span></dt><dd>
          First define an optionlist... (outside 'form-schema' see 'optionlist')
            <pre class="programlisting">
&lt;lists&gt;
  &lt;optionlist name="articletypes"&gt;
	&lt;option id="1"&gt;News&lt;/option&gt;
	&lt;option id="2"&gt;Interview&lt;/option&gt;
	&lt;option id="3"&gt;Information&lt;/option&gt;
  &lt;/optionlist&gt;
&lt;/lists&gt;
            </pre>
			...and then use it like this.
            <pre class="programlisting">
&lt;field name="type" ftype="enum"&gt;
  &lt;prompt&gt;Articletype&lt;/prompt&gt;
  &lt;optionlist select="articletypes"/&gt;
&lt;/field&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>lists</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;lists /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this node to define optionlists in a wizard.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>None.</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>&lt;optionlist /&gt; (see also:optionlist)</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>See needed childnodes</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>&lt;wizard-schema /&gt;</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;lists&gt;
  &lt;optionlist name="priorities"&gt;
    &lt;option id="1"&gt;Low&lt;/option&gt;
    &lt;option id="2"&gt;High&lt;/option&gt;
  &lt;/optionlist&gt;
&lt;/lists&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>optionlist</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;optionlist /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this node to define an optionlist. It can be either a static list of options, or a list filled using an MMBase query.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>name="[optionlistname]" This optional attribute can be used if an optionlist is defined in a &lt;lists /&gt; node. To reference to the defined optionlist, you will need the optionlistname. Eg.: &lt;optionlist select="earlier_defined_optionlist" /&gt;</p><p>optionid="field[@name='fieldname']" This optional attribute can be used if an underlying 'query' node is present. Of all matching nodes, the field with name given in 'optionid' will be used as the 'id' part of the option.</p><p>optioncontent="field[@name='fieldname']" This optional attribute can be used if an underlying 'query' node is present. Of all matching nodes, the field with name given in 'optioncontent' will be used as the content part of the option.</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>&lt;option id="[optionid]"&gt;[optionvalue_to_be_shown_in_wizard]&lt;/option&gt;</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>&lt;query&gt; This childnode can be used instead of &lt;option&gt; childnodes to fill the optionlist with options. The query has three attributes: optional 'where' and 'orderby' clauses and a required 'xpath' clause. The xpath can have the following syntax:
                          <div class="itemizedlist"><ul type="disc"><li><p>/*@buildername, in this case a nodequery will be performed.</p></li><li><p>/*@buildername,otherbuildername,..., in this case a multilevel query will be performed. When doing a multilevel query, there must be a &lt;object&gt; childnode with two &lt;field&gt; childnodes for the 'optionid' and 'optioncontent' arguments of the optionlist.</p></li></ul></div>
                        </p></dd><dt><span class="term">Possible parents</span></dt><dd><p>&lt;wizard-schema /&gt;</p><p>&lt;field ftype="enum" /&gt;</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;optionlist name="role"
            optionid="field[@name='role.role']"
            optioncontent="field[@name='role.name']"&gt;
    &lt;query xpath="/*@companies,roles" where="company.number = {$origin}"&gt;
        &lt;object&gt;
            &lt;field name="role.role" /&gt;
            &lt;field name="role.name" /&gt;
        &lt;/object&gt;
    &lt;/query&gt;
&lt;/optionlist&gt;</pre></dd></dl></div><div class="variablelist"><p class="title"><b>command (name="search")</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;command name="search" /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use this command inside a list node to define how a user can search for objects and add them to a list.</p></dd><dt><span class="term">Attributes (general)</span></dt><dd><p>See for detailed information how to use nodepath, startnodes, fields, constraints, orderby the documentation of the MMBase taglib.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>name="search"</p><p>nodepath="[buildername_to_start_with]"</p><p>fields="[fieldnames of fields to show]"</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>startnodes="[objectnumber]"</p><p>age="[default age to show in search-field]" use -1 to set it to "any age", use 1,7,31,365 for day, week, month, year ages.</p><p>constraints="[mmbase where part]"</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>&lt;prompt /&gt; Place the text to be shown in front of the searchfield here.</p><p>&lt;search-filter /&gt; Defines what extra searchfields should be shown and used in the query. See also: search-filter.</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>&lt;list /&gt;</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;list destination="people" minoccurs="0" maxoccurs="*"&gt;
  &lt;command name="search" nodepath="people" fields="firstname,lastname" orderby="lastname" age="-1"&gt;
    &lt;prompt&gt;#Search command prompt&lt;/prompt&gt;
    &lt;search-filter&gt;
      &lt;name&gt;firstname contains&lt;/name&gt;
      &lt;search-fields&gt;firstname&lt;/search-fields&gt;
    &lt;/search-filter&gt;
    &lt;search-filter&gt;
      &lt;name&gt;lastname contains&lt;/name&gt;
      &lt;search-fields&gt;lastname&lt;/search-fields&gt;
    &lt;/search-filter&gt;
  &lt;/command&gt;
  &lt;item&gt;
    &lt;field name="firstname" &gt;
      &lt;prompt&gt;Field prompt&lt;/prompt&gt;
      &lt;description&gt;Field Description&lt;/description&gt;
    &lt;/field&gt;
  &lt;/item&gt;
  &lt;action type="create"&gt;
    &lt;relation destinationtype="people" role="related" /&gt;
  &lt;/action&gt;
&lt;/list&gt;
            </pre></dd></dl></div><div class="variablelist"><p class="title"><b>search-filter</b></p><dl><dt><span class="term">Syntax</span></dt><dd><p>&lt;search-filter /&gt;</p></dd><dt><span class="term">Usage</span></dt><dd><p>Use the searchfilter to allow the user to fire a free-text query from the wizard. See the command name="search" example.</p></dd><dt><span class="term">Needed attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible attributes</span></dt><dd><p>None</p></dd><dt><span class="term">Needed childnodes</span></dt><dd><p>&lt;name /&gt;</p><p>&lt;search-fields /&gt;</p></dd><dt><span class="term">Possible childnodes</span></dt><dd><p>None</p></dd><dt><span class="term">Possible parents</span></dt><dd><p>&lt;command name="search" /&gt;</p></dd><dt><span class="term">Example</span></dt><dd><pre class="programlisting">
&lt;search-filter&gt;
  &lt;name&gt;Naam bevat&lt;/name&gt;
  &lt;search-fields&gt;name&lt;/search-fields&gt;
&lt;/search-filter&gt;
            </pre></dd></dl></div></div></div><hr xmlns="" /><p xmlns="">
      This is part of the <a href="http://www.mmbase.org">MMBase</a> documentation.
    </p><p xmlns="">
      For questions and remarks about this documentation mail to: 
      <a href="/cdn-cgi/l/email-protection#aacec5c9dfc7cfc4decbdec3c5c4eac7c7c8cbd9cf84c5d8cd"><span class="__cf_email__" data-cfemail="64000b071109010a1005100d0b0a240909060517014a0b1603">[email&#160;protected]</span></a></p><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body></html>