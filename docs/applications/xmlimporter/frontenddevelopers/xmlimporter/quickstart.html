<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Quickstart Installation Guide</title><link href="../../../../style/documentation.css" rel="stylesheet" type="text/css" /><meta content="DocBook XSL Stylesheets V1.72.0" name="generator" /><link xmlns="" type="image/x-icon" href="../../../../style/favicon.ico" rel="icon" /><link xmlns="" type="image/x-icon" href="../../../../style/favicon.ico" rel="shortcut icon" /><meta xmlns="" content="text/html; charset=utf-8" http-equiv="content-type" /></head><body><div xmlns="" class="navigation"><img alt="mmbase logo" src="../../../../style/logo.png" /><h2>Quickstart Installation Guide</h2><p><a href="quickstart.html#N10021">Documentation</a></p><p><a href="quickstart.html#N10036">How to install XML Importer</a></p><p><a href="quickstart.html#N100AB">How to run the examples</a></p><p><a href="quickstart.html#N10131">How to de-install the examples</a></p><hr /><p><a href="http://www.mmbase.org">MMBase</a></p><p><a href="../../../../index.html">home</a></p></div><div class="article" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="N10001" />Quickstart Installation Guide</h1></div><div><div class="authorgroup"><strong class="authorgroup">Author: </strong><span class="author"><span class="firstname">Rob</span> <span class="surname">van Maris</span></span><br /><strong class="authorgroup">Date: </strong>2004-11-04</div></div><div><div class="legalnotice"><a id="N10018" /><p>This software is OSI Certified Open Source Software. OSI Certified is a certification mark of the Open Source Initiative.</p><p>The license (Mozilla version 1.0) can be read at the MMBase site. See <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.mmbase.org/license" target="_top">http://www.mmbase.org/license</a></p></div></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="quickstart.html#N10021">1. Documentation</a></span></dt><dt><span class="section"><a href="quickstart.html#N10036">2. How to install XML Importer</a></span></dt><dt><span class="section"><a href="quickstart.html#N100AB">3. How to run the examples</a></span></dt><dt><span class="section"><a href="quickstart.html#N10131">4. How to de-install the examples</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="N10021" />1. Documentation</h2></div></div></div><p>For a full understanding of the XML Importer, it is recommended to read the following documents, available on the <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.mmbase.org" target="_top">MMBase website</a></p><div class="orderedlist"><ol type="1"><li>TCP 1.0 documentation (see Temporary Cloud Project).</li><li>XML Importer overview (see XML Importer Project).</li><li>The javadoc documentation of the <code class="classname">org.mmbase.applications.xmlimporter</code> package.</li></ol></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="N10036" />2. How to install XML Importer</h2></div></div></div><p>The XML Importer has been tested with the recent CVS versions of MMBase. If you downloaded the MMDistro you have to update some files from cvs and copy them to your source directory. In our case these were:</p><div class="itemizedlist"><ul type="disc"><li><code class="classname">org.mmbase.module.INFO.java</code></li><li><code class="classname">org.mmbase.module.builders.MediaParts.java</code></li><li><code class="classname">org.mmbase.module.PlaylistInterface.java</code></li><li><code class="classname">org.mmbase.module.core.MMBaseContext.java</code></li><li><code class="classname">org.mmbase.module.core.MMObjectBuilder.java</code></li><li><code class="classname">org.mmbase.module.core.MMObjectNode.java</code></li><li><code class="classname">org.mmbase.module.core.TemporaryNodeManager.java</code></li><li><code class="classname">org.mmbase.module.core.TemporaryNodeManagerInterface.java</code></li><li><code class="classname">org.mmbase.module.core.TransactionManager.java</code></li><li><code class="classname">org.mmbase.module.core.TransactionManagerException.java</code></li><li><code class="classname">org.mmbase.module.core.TransactionManagerInterface.java</code></li><li><code class="classname">org.mmbase.module.core.TransactionResolver.java</code></li><li><code class="classname">org.mmbase.module.corebuilders.FieldDefs.java</code></li><li><code class="classname">org.mmbase.module.database.support.MMSQL92Node.java</code></li><li><code class="classname">org.mmbase.module.gui.html.PageProcess.java</code></li><li><code class="classname">org.mmbase.module.gui.html.scanparser.java</code></li><li><code class="classname">org.mmbase.servlet.servdb.java</code></li><li><code class="classname">org.mmbase.servlet.servscan.java</code></li><li><code class="classname">org.mmbase.util.media.MediaUtils.java</code></li><li><code class="classname">org.mmbase.util.scanpage.java</code></li></ul></div><p>Since MMBase is improved all the time this list will grow with time. If compilation errors occur a cvs update might solve the problem.</p><p>Next:</p><div class="orderedlist"><ol type="1"><li>Download and unzip xmlimporter.zip from the XML-importer homepage on the MMBase website.</li><li>Update the contents of mmbase/applications/xmlimporter from cvs.</li><li>Update the contents of html/mmapps/xmlimporter from cvs.</li><li>Update the file config/default/dtd/transactions.dtd from cvs.</li><li>Edit transactionhandler.xml in your MMBase modules config directory, so that its status is set to "active" and its classfile to "org.mmbase.applications.xmlimporter.TransactionHandler".</li><li>Copy upload.jar from /lib to your MMBase lib directory (usually Web-Inf/lib in your web-app). It is solely used for the file upload by the XML importer user interface JSP.</li><li>In your MMBase config directory, create directories "import" and "import/report".</li><li>Recompile/rebuild and redeploy your MMBase binaries.</li></ol></div><p>The next time MMBase is started, XML Importer will be installed and fully functional. It is recommended to install the examples next.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="N100AB" />3. How to run the examples</h2></div></div></div><p>It is recommended to execute the JUnit tests as the first step, to see if everything works as expected.</p><div class="orderedlist"><ol type="1"><li>Configure log4j to see the results of the JUnit tests, by setting the priority for the category <code class="classname">org.mmbase.applications.xmlimporter.junit.TestRunner</code> to "service".</li><li>Restart MMBase. The junittester module is configured to execute two testsuites when MMBase is initialized: TmpObjectTest, TransactionHanlderTest and SpecificObjectFinderTest.</li><li>Look in the log4j logfile to see the result of the tests. If all went well, the TestRunner reports having finished both testsuites with result OK.
      If you see the lines <code class="computeroutput">&gt;OK (6 tests)</code>, <code class="computeroutput">OK (5 tests)</code> and <code class="computeroutput">OK (1 tests)</code> XML Importer is running as expected (in spite of some warnings you may get), otherwise something is wrong.</li></ol></div><p>If the TestRunner reports errors or failures, set logging priority to "trace" for the category <code class="classname">org.mmbase.applications.xmlimporter</code> and restart MMBase to get a more detailed report to see what went wrong. Don't proceed until the problem is fixed and all tests are successfull.</p><p>If you don't need the junittester anymore, set its status to "inactive" in its configuration file "junittester.xml".</p><p>The next examples will demonstrate the XML importer with the JSP user interface. It uses 3 XML files with XML Importer commands. In order to understand these, you must have read the XML Importer documentation.</p><div class="orderedlist"><ol type="1"><li>In a browser, go to <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://localhost/mmapps/xmlimporter/jsp/importhome.jsp" target="_top">http://localhost/mmapps/xmlimporter/jsp/importhome.jsp</a>.</li><li>Use the "Browse..." buttons to select the files "transaction1.xml", "transaction2.xml" and "transaction3.xml" in the /demo directory of the unzipped file. These are the XML files to be processed by the XML importer.</li><li>Press "Start Upload", this will upload the files to a webserver directory ("import" in your MMBase config directory).</li><li>Press "Back to import page" to return to the importer homepage.</li><li>Now you can select one of the uploaded files under "Start Import". Select "transaction1.xml" and press "Start Import" to process that file.</li><li><p>Description of <code class="filename">transaction1.xml</code>:</p><p>This transaction creates new objects: 1 movie and 3 related persons - of which 2 are identical.
        These are then merged based on an exact match of persons and movies.
        Note that:</p><div class="itemizedlist"><ul type="disc"><li>When this transaction is repeated it will not create new objects, because the objects are already present in the persistent cloud.</li><li>The two identical persons are merged and result in a single persons object.</li></ul></div></li><li>The next html-pages will inform you when the XML importer has finished, also telling "NO DUPLICATES FOUND", meaning there were no problems (see below). Go to the MMBase editors for personsxxx and moviesxxx to see the resulting objects.</li><li>From to the importer homepage import "transaction2.xml" in the same way.</li><li><p>Desciption of <code class="filename">transactions2.xml</code>:</p><p>This transaction creates new objects:1 movie and 1 related person.
        These are then merged based on an exact match of persons and movies.
        Note that:</p><div class="itemizedlist"><ul type="disc"><li>Since the persons merge is based on an exact match of fullnames, "Erik Visser" and "Eric Visser" are considered different persons.</li><li>Since the movies merge is based on an exact match of titles, "Finalist the Movie" and "Finalist the Movie II" are considered different movies.</li></ul></div></li><li>The next html-pages will inform you when the XML importer has finished, also telling "NO DUPLICATES FOUND", meaning there were no problems. Go to the MMBase editors for personsxxx and moviesxxx to see the resulting objects.</li><li>Repeat the import of either transaction1.xml or transaction2.xml. This time, no objects will be created, since they are already present.</li><li>From the importer homepage import "transaction3.xml" in the same way.</li><li><p>Description of <code class="filename">transactions3.xml</code>:</p><p>This transaction creates new objects:1 movie and 1 related person.
          These are then merged based on a fuzzy match of persons (90%) and movies (95%).
          Note that:</p><div class="itemizedlist"><ul type="disc"><li>Since the merge is based on a fuzzy (90%) match of fullnames, "Erik Visser", "Eric Visser" and "Erie Visser" are considered the same person, so there will be ambiguity when merging the persons.</li><li>Since the movies merge is based on a fuzzy (95%) match of titles, "Finalist the Movie II" and "Finalist the Movie III" are considered the same movie, and "Finalist the Movie" is considerd a different movie, so there is no ambiguity when merging the movies.</li></ul></div></li><li>The next html-pages will inform you when the XML importer has finished, but this time with the following message: "DUPLICATES FOUND". This means there was a transaction that could not be committed because an ambiguity arose while looking for similar objects.</li><li>Take a look at the file "import\report\tcpReport.txt" in your MMBase config directory, to see which transaction was not committed and what the problem was. (You can set the name of the reportFile by setting the reportFile attribute of the transactions element.)</li><li>Repeat the import of transactions3.xml, but this time be sure to check the "process duplicates interactive" checkbox.</li><li>In the interactive mode, the XML importer will consult you as soon as it runs into ambiguity because of duplicates. It will show you the original (input) object, and the objects resulting from merging it with the different candidates. Choose the mergeresult with fullname "Erik Visser" by pressing the button beneath it.</li><li>Go to the MMBase editors to see the resulting objects. In this case both the movie and person are merged with existing objects, but a new relation is added, since this relation was not present already.</li><li>Finally, return to the importer homepage, and use third section to delete the uploaded files from the server.</li></ol></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="N10131" />4. How to de-install the examples</h2></div></div></div><p>Reverse the steps in the examples installation guide to de-install the examples.</p></div></div><hr xmlns="" /><p xmlns="">
      This is part of the <a href="http://www.mmbase.org">MMBase</a> documentation.
    </p><p xmlns="">
      For questions and remarks about this documentation mail to: 
      <a href="/cdn-cgi/l/email-protection#b7d3d8d4c2dad2d9c3d6c3ded8d9f7dadad5d6c4d299d8c5d0"><span class="__cf_email__" data-cfemail="6e0a010d1b030b001a0f1a0701002e03030c0f1d0b40011c09">[email&#160;protected]</span></a></p><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body></html>